(()=>{var t={41:t=>{function e(t,e,s){let o=t[e];t[e]=t[s],t[s]=o}t.exports=class{constructor(t,e){this.xs=t,this.ys=e,this.ks=this.getNaturalKs(new Float64Array(this.xs.length))}getNaturalKs(t){const s=this.xs.length-1,o=function(t,e){const s=[];for(let o=0;o<t;o++)s.push(new Float64Array(e));return s}(s+1,s+2);for(let t=1;t<s;t++)o[t][t-1]=1/(this.xs[t]-this.xs[t-1]),o[t][t]=2*(1/(this.xs[t]-this.xs[t-1])+1/(this.xs[t+1]-this.xs[t])),o[t][t+1]=1/(this.xs[t+1]-this.xs[t]),o[t][s+1]=3*((this.ys[t]-this.ys[t-1])/((this.xs[t]-this.xs[t-1])*(this.xs[t]-this.xs[t-1]))+(this.ys[t+1]-this.ys[t])/((this.xs[t+1]-this.xs[t])*(this.xs[t+1]-this.xs[t])));return o[0][0]=2/(this.xs[1]-this.xs[0]),o[0][1]=1/(this.xs[1]-this.xs[0]),o[0][s+1]=3*(this.ys[1]-this.ys[0])/((this.xs[1]-this.xs[0])*(this.xs[1]-this.xs[0])),o[s][s-1]=1/(this.xs[s]-this.xs[s-1]),o[s][s]=2/(this.xs[s]-this.xs[s-1]),o[s][s+1]=3*(this.ys[s]-this.ys[s-1])/((this.xs[s]-this.xs[s-1])*(this.xs[s]-this.xs[s-1])),function(t,s){const o=t.length;let n=0,i=0;for(;n<o&&i<=o;){let s=0,l=-1/0;for(let e=n;e<o;e++){const o=Math.abs(t[e][i]);o>l&&(s=e,l=o)}if(0===t[s][i])i++;else{e(t,n,s);for(let e=n+1;e<o;e++){const s=t[e][i]/t[n][i];t[e][i]=0;for(let l=i+1;l<=o;l++)t[e][l]-=t[n][l]*s}n++,i++}}for(let e=o-1;e>=0;e--){var l=0;t[e][e]&&(l=t[e][o]/t[e][e]),s[e]=l;for(let s=e-1;s>=0;s--)t[s][o]-=t[s][e]*l,t[s][e]=0}return s}(o,t)}getIndexBefore(t){let e=0,s=this.xs.length,o=0;for(;e<s;)o=Math.floor((e+s)/2),this.xs[o]<t&&o!==e?e=o:s=this.xs[o]>=t&&o!==s?o:e;return e+1}at(t){let e=this.getIndexBefore(t);const s=(t-this.xs[e-1])/(this.xs[e]-this.xs[e-1]),o=this.ks[e-1]*(this.xs[e]-this.xs[e-1])-(this.ys[e]-this.ys[e-1]),n=-this.ks[e]*(this.xs[e]-this.xs[e-1])+(this.ys[e]-this.ys[e-1]);return(1-s)*this.ys[e-1]+s*this.ys[e]+s*(1-s)*(o*(1-s)+n*s)}}}},e={};function s(o){var n=e[o];if(void 0!==n)return n.exports;var i=e[o]={exports:{}};return t[o](i,i.exports,s),i.exports}(()=>{"use strict";let t=(t,e=500,s=0)=>{t.classList.contains("_slide")||(t.classList.add("_slide"),t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=`${t.offsetHeight}px`,t.offsetHeight,t.style.overflow="hidden",t.style.height=s?`${s}px`:"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,window.setTimeout((()=>{t.hidden=!s,!s&&t.style.removeProperty("height"),t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),!s&&t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideUpDone",{detail:{target:t}}))}),e))},e=(t,e=500,s=0)=>{if(!t.classList.contains("_slide")){t.classList.add("_slide"),t.hidden=!t.hidden&&null,s&&t.style.removeProperty("height");let o=t.offsetHeight;t.style.overflow="hidden",t.style.height=s?`${s}px`:"0px",t.style.paddingTop=0,t.style.paddingBottom=0,t.style.marginTop=0,t.style.marginBottom=0,t.offsetHeight,t.style.transitionProperty="height, margin, padding",t.style.transitionDuration=e+"ms",t.style.height=o+"px",t.style.removeProperty("padding-top"),t.style.removeProperty("padding-bottom"),t.style.removeProperty("margin-top"),t.style.removeProperty("margin-bottom"),window.setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("overflow"),t.style.removeProperty("transition-duration"),t.style.removeProperty("transition-property"),t.classList.remove("_slide"),document.dispatchEvent(new CustomEvent("slideDownDone",{detail:{target:t}}))}),e)}};function o(t,e){const s=Array.from(t).filter((function(t,s,o){if(t.dataset[e])return t.dataset[e].split(",")[0]}));if(s.length){const t=[];s.forEach((s=>{const o={},n=s.dataset[e].split(",");o.value=n[0],o.type=n[1]?n[1].trim():"max",o.item=s,t.push(o)}));let o=t.map((function(t){return"("+t.type+"-width: "+t.value+"px),"+t.value+","+t.type}));o=function(t){return t.filter((function(t,e,s){return s.indexOf(t)===e}))}(o);const n=[];if(o.length)return o.forEach((e=>{const s=e.split(","),o=s[1],i=s[2],l=window.matchMedia(s[0]),a=t.filter((function(t){if(t.value===o&&t.type===i)return!0}));n.push({itemsArray:a,matchMedia:l})})),n}}let n=!1;setTimeout((()=>{if(n){let t=new Event("windowScroll");window.addEventListener("scroll",(function(e){document.dispatchEvent(t)}))}}),0);const i=document.querySelector("#shedule"),l=document.querySelector(".shedule"),a=document.querySelector("#x"),r=document.querySelector("#y"),c=document.querySelector(".points__title--x"),d=document.querySelector(".points__title--y"),u=document.querySelector("#divisionX"),h=document.querySelector("#divisionY"),p=document.querySelector(".shedule__button--1"),y=document.querySelector(".shedule__button--2");let f=!0;const m=i.getContext("2d");let _,v,b,x,g,S,A;function w(){m.clearRect(0,0,v,b),v=l.clientWidth,b=l.clientHeight,b=v,window.screen.width<768&&(b=v),i.setAttribute("width",`${v}px`),i.setAttribute("height",`${b}px`),g=""===u.value?"10":u.value,S=""===h.value?"10":h.value,_=f?function(t=10,e=10){const s=Math.floor(v/20)-2,o=Math.floor(v/2/s)*s,n=v/2,i=b/2,l=t/10,a=e/10;return m.strokeStyle="#000",window.screen.width<768?m.font="8px serif":m.font="12px serif",m.beginPath(),m.strokeStyle="#000",m.fillStyle="#000",function(t){for(let e=0,l=0;e<o+s;e+=s,l+=t){let s=null;.1!==t&&Number.isInteger(l)||(s=l.toFixed(1)),.01===t&&(s=l.toFixed(2)),.001===t&&(s=l.toFixed(3)),m.moveTo(n+e,i-5),m.lineTo(n+e,i+5),m.fillText(0===l?"":`${s??l}`,n+e-5,i+15),m.moveTo(n-e,i-5),m.lineTo(n-e,i+5),m.fillText(0===l?"":`-${s??l}`,n-e-5,i+15)}}(l),function(t){for(let e=0,l=0;e<o+s;e+=s,l+=t){let s=null;.1!==t&&Number.isInteger(l)||(s=l.toFixed(1)),.01===t&&(s=l.toFixed(2)),.001===t&&(s=l.toFixed(3)),m.moveTo(n-5,i+e),m.lineTo(n+5,i+e),m.fillText(0===l?"":`${s??l}`,n-20,i-e-5),m.moveTo(n-5,i-e),m.lineTo(n+5,i-e),m.fillText(0===l?"":`-${s??l}`,n-25,i+e-5)}}(a),m.stroke(),m.closePath(),{widthDivision:s,startX:n,startY:i,maxCountX:t,maxCountY:e}}(g,S):function(t=10,e=10){const s=Math.floor((v-40)/10)-2,o=Math.floor(v/s)*s,n=40,i=b-40,l=t/10,a=e/10;return m.strokeStyle="#000",m.font="14px serif",m.beginPath(),m.strokeStyle="#000",m.fillStyle="#000",function(t){for(let e=0,l=0;e<o+s;e+=s,l+=t){let s=null;.1!==t&&Number.isInteger(l)||(s=l.toFixed(1)),.01===t&&(s=l.toFixed(2)),.001===t&&(s=l.toFixed(3)),m.moveTo(n+e,i-8),m.lineTo(n+e,i+8),m.fillText(0===l?"":`${s??l}`,n+e-5,i+25)}}(l),function(t){for(let e=0,n=0;e<o+s;e+=s,n+=t){let s=null;.1!==t&&Number.isInteger(n)||(s=n.toFixed(1)),.01===t&&(s=n.toFixed(2)),.001===t&&(s=n.toFixed(3)),m.moveTo(32,i-e),m.lineTo(48,i-e),m.fillText(0===n?"":`${s??n}`,10,i-e+5)}}(a),m.stroke(),m.closePath(),{widthDivision:s,startX:n,startY:i,maxCountX:t,maxCountY:e}}(g,S),f?function(){const t=""===a.value?"x":a.value,e=""===r.value?"y":r.value;m.beginPath(),m.strokeStyle="#000",m.moveTo(v/2,0),m.lineTo(v/2,b),m.moveTo(0,b/2),m.lineTo(v,b/2),m.stroke(),m.closePath(),m.stroke(),m.font="24px serif",x=t.slice(0,1).toUpperCase().concat(t.slice(1)),A=e.slice(0,1).toUpperCase().concat(e.slice(1)),m.fillText(x,v-60,b/2+40),m.fillText(A,v/2+20,30)}():function(){const t=""===a.value?"x":a.value,e=""===r.value?"y":r.value;m.beginPath(),m.strokeStyle="#000",m.moveTo(40,0),m.lineTo(40,b-40),m.moveTo(40,b-40),m.lineTo(v,b-40),m.stroke(),m.closePath(),m.stroke(),m.font="24px serif",x=t.slice(0,1).toUpperCase().concat(t.slice(1)),A=e.slice(0,1).toUpperCase().concat(e.slice(1)),m.fillText(x,v-60,b-60),m.fillText(A,60,30)}(),c.textContent=x,d.textContent=A}p.addEventListener("click",(()=>{f=!0,$()})),y.addEventListener("click",(()=>{f=!1,$()}));var q=s(41);function L(t,e,s,o){const n=t.filter((t=>{if(t.x&&t.y&&t.x.length===t.y.length&&0!==t.x.length)return t}));n.forEach((t=>{const n=[],i=[];for(let o=0;o<t.x.length;o++){e.beginPath();const l=t.x[o]/(s.maxCountX/10)*s.widthDivision+s.startX,a=s.startY-t.y[o]/(s.maxCountY/10)*s.widthDivision;n.push(l),i.push(a),e.arc(l,a,2,0,2*Math.PI),e.fillStyle=t.color,e.strokeStyle=t.color,e.stroke(),e.fill(),e.closePath()}"linear"===o?function(t,s,o){e.beginPath(),e.strokeStyle=o,e.moveTo(t[0],s[0]);for(let o=1;o<t.length;o++)e.lineTo(t[o],s[o]);e.stroke(),e.closePath()}(n,i,t.color):"curve"===o&&function(t,s,o){const n=new q(t,s);e.beginPath(),e.moveTo(t[0],s[0]);for(let s=t[0];s<=t[t.length-1];s+=1){const t=n.at(s);e.lineTo(s,t)}e.strokeStyle=o,e.stroke()}(n,i,t.color)}))}const T=document.querySelector(".data__button--build"),E=document.querySelector(".data__button--clear"),k=document.querySelector(".data__type");let P;function $(){w(),P=document.querySelector('input[name="type"]:checked')?.value||"linear",L(M(),m,_,P)}T.addEventListener("click",$),E.addEventListener("click",(function(){w(),function(){const t=I(),e=document.querySelectorAll(".tabs__body"),s=e[t].querySelector(".points__body"),o=`<tr class="points__row">\n                      <th class="points__title points__title--x">X</th>\n                      <th class="points__title points__title--y">Y</th>\n                    </tr>\n                    <tr class="points__row points__row--data">\n                      <td class="points__x">\n                        <input autocomplete="off" type="number" name="point" placeholder="0"\n                          class="input__point  input__point--x-${t+1}">\n                      </td>\n                      <td class="points__y">\n                        <input autocomplete="off" type="number" name="point" placeholder="0"\n                          class="input__point input__point--y input__point--y-${t+1}">\n                      </td>\n                    </tr>\n              `;s.innerHTML=o}(),F(),P=document.querySelector('input[name="type"]:checked')?.value||"linear",L(M(),m,_,P)})),k.addEventListener("change",$),window.addEventListener("resize",(function(t){w(),$()}));const C=[];function F(){const t=I(),e=document.querySelectorAll(".tabs__body"),s=e[t],o=s.querySelector(".points__body"),n=s.querySelector(".points__row--data").cloneNode(!0);function i(){const t=s.querySelectorAll(".input__point--y");return t[t.length-1]}let l=i();function a(){$()}function r(){document.querySelectorAll(".tabs__title")[t-1].classList.add("_tab-active"),document.querySelectorAll(".tabs__title")[t].remove(),e[t-1].removeAttribute("hidden"),e[t].remove();const s=document.querySelector("[data-tabs]");let o=Number(s.dataset.index);s.dataset.index=--o,this.removeEventListener("click",r),$()}s.querySelector(".input__color").addEventListener("change",a),function(){const t=s.querySelector(".btnClosed");t&&(t.classList.add("_active"),t.addEventListener("click",r))}(),l.addEventListener("change",(function t(e){const s=n.cloneNode(!0);o.append(s),l.removeEventListener("change",t),l=i(),l.addEventListener("change",t)}))}function I(){let t;return document.querySelectorAll(".tabs__title").forEach(((e,s)=>{e.classList.contains("_tab-active")&&(t=s)})),t}function M(){C.splice(0);const t=document.querySelectorAll(".tabs__title"),e=document.querySelectorAll(".input__color");return t.forEach(((t,s)=>{const o=Array.from(document.querySelectorAll(`.input__point--x-${s+1}`)).map((t=>+t.value)).slice(0,-1),n=Array.from(document.querySelectorAll(`.input__point--y-${s+1}`)).map((t=>+t.value)).slice(0,-1);C.push({x:o,y:n,color:""===e[s].value?"#000":e[s].value})})),C}document.querySelector(".data__main").addEventListener("change",$);const N=document.querySelector(".tabs__add");!function(){const s=document.querySelectorAll("[data-tabs]");let n=[];if(s.length>0){const t=function(){if(location.hash)return location.hash.replace("#","")}();t&&t.startsWith("tab-")&&(n=t.replace("tab-","").split("-")),s.forEach(((t,e)=>{t.classList.add("_tab-init"),t.setAttribute("data-tabs-index",e),t.addEventListener("click",r.bind(t)),l(t)}));let e=o(s,"tabs");e&&e.length&&e.forEach((t=>{t.matchMedia.addEventListener("change",(function(){i(t.itemsArray,t.matchMedia)})),i(t.itemsArray,t.matchMedia)}))}function i(t,e){t.forEach((t=>{let s=(t=t.item).querySelector("[data-tabs-titles]"),o=t.querySelectorAll("[data-tabs-title]"),n=t.querySelector("[data-tabs-body]"),i=t.querySelectorAll("[data-tabs-item]");o=Array.from(o).filter((e=>e.closest("[data-tabs]")===t)),i=Array.from(i).filter((e=>e.closest("[data-tabs]")===t)),i.forEach(((i,l)=>{e.matches?(n.append(o[l]),n.append(i),t.classList.add("_tab-spoller")):(s.append(o[l]),t.classList.remove("_tab-spoller"))}))}))}function l(t){let e=t.querySelectorAll("[data-tabs-titles]>*"),s=t.querySelectorAll("[data-tabs-body]>*");const o=t.dataset.tabsIndex,i=n[0]==o;if(i){const e=t.querySelector("[data-tabs-titles]>._tab-active");e&&e.classList.remove("_tab-active")}s.length&&s.forEach(((t,s)=>{e[s].setAttribute("data-tabs-title",""),t.setAttribute("data-tabs-item",""),i&&s==n[1]&&e[s].classList.add("_tab-active"),t.hidden=!e[s].classList.contains("_tab-active")}))}function a(s){let o=s.querySelectorAll("[data-tabs-title]"),n=s.querySelectorAll("[data-tabs-item]");const i=s.dataset.tabsIndex;const l=function(t){if(t.hasAttribute("data-tabs-animate"))return t.dataset.tabsAnimate>0?Number(t.dataset.tabsAnimate):500}(s);if(n.length>0){const a=s.hasAttribute("data-tabs-hash");n=Array.from(n).filter((t=>t.closest("[data-tabs]")===s)),o=Array.from(o).filter((t=>t.closest("[data-tabs]")===s)),n.forEach(((s,n)=>{var r;o[n].classList.contains("_tab-active")?(l?e(s,l):s.hidden=!1,a&&!s.closest(".popup")&&(r=(r=`tab-${i}-${n}`)?`#${r}`:window.location.href.split("#")[0],history.pushState("","",r))):l?t(s,l):s.hidden=!0}))}}function r(t){const e=t.target;if(e.classList.contains("tabs__add")){let t=Number(this.dataset.index);t++,this.dataset.index=t;const e=this.querySelectorAll(".tabs__title"),s=e[e.length-1],o=document.createElement("button");o.type="button",o.className="tabs__title _tab-active",o.setAttribute("data-tabs-title",""),o.textContent=`График ${t}`,e.forEach((t=>t.classList.remove("_tab-active"))),s.after(o);const n=`<div class="tabs__body">\n            <div class="btnClosed"></div>\n            <fieldset class="data__block data__color">\n              <legend class="data__title">Цвет графика</legend>\n              <div class="data__row data__row--color">\n                <input autocomplete="off" type="color" name="color-${t}" placeholder="Цвет графика" class="input__color"\n                  id="color-${t}">\n              </div>\n            </fieldset>\n\n            <fieldset class="data__block data__point">\n              <legend class="data__title">Данные для построения</legend>\n\n              <div class="data__row points">\n                <table class="points__table">\n                  <tbody class="points__body">\n                    <tr class="points__row">\n                      <th class="points__title points__title--x">X</th>\n                      <th class="points__title points__title--y">Y</th>\n                    </tr>\n                    <tr class="points__row points__row--data">\n                      <td class="points__x">\n                        <input autocomplete="off" type="number" name="point" placeholder="0"\n                          class="input__point  input__point--x-${t}">\n                      </td>\n                      <td class="points__y">\n                        <input autocomplete="off" type="number" name="point" placeholder="0"\n                          class="input__point input__point--y input__point--y-${t}">\n                      </td>\n                    </tr>\n                  </tbody>\n\n                </table>\n              </div>\n            </fieldset>\n          </div>`;this.querySelector(".tabs__content").insertAdjacentHTML("beforeend",n),l(this)}if(e.closest("[data-tabs-title]")){const s=e.closest("[data-tabs-title]"),o=s.closest("[data-tabs]");if(!s.classList.contains("_tab-active")&&!o.querySelector("._slide")){let t=o.querySelectorAll("[data-tabs-title]._tab-active");t.length&&(t=Array.from(t).filter((t=>t.closest("[data-tabs]")===o))),t.length&&t[0].classList.remove("_tab-active"),s.classList.add("_tab-active"),a(o)}t.preventDefault()}}}();N.addEventListener("click",(function(t){setTimeout(F,500)})),w(),F(),window.FLS=!0,function(t){let e=new Image;e.onload=e.onerror=function(){t(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}))})()})();